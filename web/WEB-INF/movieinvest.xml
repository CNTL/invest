<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">

<beans>
	<!-- ========================= VIEW DEFINITIONS ========================= -->
	<bean id="viewResolver" class="org.springframework.web.servlet.view.InternalResourceViewResolver">
		<property name="viewClass"><value>org.springframework.web.servlet.view.JstlView</value></property>
		<property name="prefix"><value>/</value></property>
		<property name="suffix"><value>.jsp</value></property>
	</bean>
	<!--===ContextAware=-->
	<bean id="ContextAware" class="com.tl.kernel.context.ContextAware" init-method="setToContext"/>
	
	<!-- 系统用户管理 -->
	<bean id="SysuserManager" class="com.tl.sys.sysuser.SysuserManager"/>
	<bean id="sys.sysuser" class="com.tl.sys.sysuser.SysuserController">
		<property name="sysuserManager"><ref bean="SysuserManager"/></property>
	</bean>
	<bean id="sys.Login" class="com.tl.sys.sysuser.LoginController">
		<property name="sysuserManager"><ref bean="SysuserManager"/></property>
	</bean>
	<bean id="sys.Logout" class="com.tl.sys.sysuser.LogoutController"></bean>
	
	<bean id="SysParamManager" class="com.tl.sys.param.SysParamManager"/>
	
	<bean id="sys.Param" class="com.tl.sys.param.SysParamController">
		<property name="sysParamManager"><ref bean="SysParamManager"/></property>
	</bean>
	
	<!-- 用户管理 -->
	<bean id="UserManager" class="com.tl.invest.user.user.UserManager"/>
	<bean id="UserMsgManager" class="com.tl.invest.user.msg.UserMsgManager"/>
	<bean id="UserResumeManager" class="com.tl.invest.user.resume.UserResumeManager"/>
	<bean id="BankcardManager" class="com.tl.invest.user.bankcard.BankcardManager"/>
	<bean id="WorksManager" class="com.tl.invest.user.works.WorksManager"/>
	<bean id="RecruitManager" class="com.tl.invest.user.recruit.RecruitManager"/>
	<bean id="UserVideoManager" class="com.tl.invest.user.video.UserVideoManager"/>
	
	<bean id="user.User" class="com.tl.invest.user.user.UserController">
		<property name="userManager"><ref bean="UserManager"/></property>
		<property name="bankcardManager"><ref bean="BankcardManager"/></property>
	</bean>
	<bean id="user.UserFetch" class="com.tl.invest.user.user.UserFetchController">
	</bean>
	<bean id="user.Login" class="com.tl.invest.user.user.UserLoginController">
		<property name="manager"><ref bean="UserManager"/></property>
	</bean>
	<bean id="user.afterlogin" class="com.tl.invest.user.user.UserAfterLoginController">
		<property name="manager"><ref bean="UserManager"/></property>
	</bean>
	<bean id="user.Logout" class="com.tl.invest.user.user.UserLogoutController"></bean>
	<!--项目-->
	<bean id="project.Service" class="com.tl.invest.proj.service.ProjectService" />
	<bean id="project.Submit" class="com.tl.invest.proj.service.ProjectSubmitController">
		<property name="service"><ref bean="project.Service" /></property>
	</bean>
	<bean id="project.Project" class="com.tl.invest.proj.service.ProjectController">
		<property name="service"><ref bean="project.Service" /></property>
	</bean>
	<bean id="project.ProjectFetcher" class="com.tl.invest.proj.service.ProjectFetcher">
		<property name="service"><ref bean="project.Service" /></property>
	</bean>
	<bean id="project.Main" class="com.tl.invest.proj.service.ProjectMainController">
		<property name="viewName"><value>proj/List</value></property>
	</bean>
	<bean id="project.Publish" class="com.tl.invest.proj.service.ProjectPublishController">
		<property name="viewName"><value>proj/Add</value></property>
	</bean>
	
	<bean id="user.UserMsg" class="com.tl.invest.user.msg.UserMsgController">
	</bean>
	<bean id="user.Recruit" class="com.tl.invest.user.recruit.RecruitController">
	</bean>
	<bean id="user.UserResume" class="com.tl.invest.user.resume.UserResumeController">
	</bean>
	<bean id="user.UserVideo" class="com.tl.invest.user.video.UserVideoController">
	</bean>
	
	
	<!--============ 4. web =============== -->
	<bean id="appUrl" class="org.springframework.web.servlet.handler.SimpleUrlHandlerMapping">
		<property name="order"><value>3</value></property>
		<property name="mappings">
			<props>
				<!-- 系统用户管理 -->
				<prop key="/admin/sysuser.do">sys.sysuser</prop>
				<!-- 用户登录 -->
				<prop key="/admin/syslogin.do">sys.Login</prop>
				<!-- 用户登出-->
				<prop key="/admin/syslogout.do">sys.Logout</prop>
				<!-- 系统参数 -->
				<prop key="/admin/sysParam.do">sys.Param</prop>
				
				<!-- 用户管理 -->
				<prop key="/user/userlogin.do">user.Login</prop>
				<prop key="/user/user.do">user.User</prop>
				<prop key="/user/userFetch.do">user.UserFetch</prop>
				<prop key="/user/afterlogin.do">user.afterlogin</prop>
				<prop key="/user/logout.do">user.Logout</prop>
				<prop key="/user/msg.do">user.UserMsg</prop>
				<prop key="/user/resume.do">user.UserResume</prop>
				<!-- 招聘管理 -->
				<prop key="/user/recruit.do">user.Recruit</prop>
				<!-- 我的视频 -->
				<prop key="/user/video.do">user.UserVideo</prop>


				<!--项目-->
				<prop key="/project/Submit.do">project.Submit</prop>
				<prop key="/project/Project.do">project.Project</prop>
				<prop key="/project/ProjectFetcher.do">project.ProjectFetcher</prop>
				<prop key="/project/List.do">project.Main</prop>
				<prop key="/project/Publish.do">project.Publish</prop>
			</props>
		</property>
	</bean>
</beans>